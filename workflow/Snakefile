from snakemake.utils import min_version

min_version("7.17.0")

configfile: "config/config.yaml"

import pandas as pd
import subprocess
import os

# global variable to use
file_name = config['params']['geo_file']
specimen_id = config['params']['specimen_id']
df_geo = pd.read_csv(file_name)
feature_names = list(df_geo.columns)[1:]

include: 'rules/slidingwindow1a.smk'
include: 'rules/refTrees1b.smk'

POS, = glob_wildcards("results/windows/window_position_{position}.fa")
print("POS: ",POS)

include: 'rules/phyML2.smk'



rule all:
    input: expand("results/rf/{position}.{feature}.rf_ete", position = POS, feature=feature_names),


